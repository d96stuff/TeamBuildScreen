<UserControl x:Class="TeamBuildScreenSaver.Views.BuildGrid"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:b="clr-namespace:TeamBuildScreenSaver.Views">
	<Grid x:Name="LayoutRoot">
		<Grid.Background>
			<RadialGradientBrush>
				<GradientStop Color="#FFFFFFFF" Offset="0.0" />
				<GradientStop Color="#FF333333" Offset="1.0" />
			</RadialGradientBrush>
		</Grid.Background>
		<ItemsControl ItemsSource="{Binding Builds}">
			<ItemsControl.ItemTemplate>
				<DataTemplate>
					<b:BuildPanel Margin="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type UserControl}}, Path=DataContext.InnerMargin}" DataContext="{Binding}"></b:BuildPanel>
				</DataTemplate>
			</ItemsControl.ItemTemplate>
			<ItemsControl.ItemsPanel>
				<ItemsPanelTemplate>
					<UniformGrid Columns="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type UserControl}}, Path=DataContext.Columns}" VerticalAlignment="Stretch"/>
				</ItemsPanelTemplate>
			</ItemsControl.ItemsPanel>
		</ItemsControl>
		<b:MessagePanel DataContext="{Binding ErrorMessageViewModel}"></b:MessagePanel>
		<Button Command="ApplicationCommands.Close" Opacity="0"/>
	</Grid>
</UserControl>
